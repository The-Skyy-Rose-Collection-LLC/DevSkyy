# DevSkyy Enterprise Platform - Security-Hardened Production Dependencies
# Core production dependencies only - NO dev/test tools
# Last security audit: 2025-11-16
# Version Strategy: ~= for compatible releases, >=,< for security-critical packages
# Per CLAUDE.md Truth Protocol - Enterprise-Grade Security & Performance

# ============================================================================
# BUILD DEPENDENCIES (Security-Critical)
# ============================================================================
# WHY: setuptools has RCE vulnerabilities (CVE-2025-47273, CVE-2024-6345)
setuptools>=78.1.1,<79.0.0  # SECURITY: Fix path traversal â†’ RCE, package_index RCE

# ============================================================================
# CORE FRAMEWORK
# ============================================================================
fastapi~=0.119.0  # Includes starlette dependency - do not pin separately
flask~=3.1.2  # Flask web framework
uvicorn[standard]~=0.38.0  # ASGI server with websockets
pydantic[email]>=2.9.0,<3.0.0  # SECURITY: Schema validation, supports langchain 0.3+
python-dotenv~=1.0.1  # Environment variable management
email-validator~=2.1.0  # Required for Pydantic email validation
blinker~=1.9.0  # Flask signaling support
werkzeug>=3.1.3,<4.0.0  # SECURITY: WSGI utility library for Flask
itsdangerous>=2.2.0,<3.0.0  # SECURITY: Secure data signing for Flask

# ============================================================================
# AGENT FRAMEWORK & MCP
# ============================================================================
claude-agent-sdk~=0.1.6  # Official Anthropic Agent SDK with MCP 1.21.0
mcp~=1.21.0  # Model Context Protocol - official implementation

# ============================================================================
# AGENT OBSERVABILITY & TRAINING
# ============================================================================
logfire[fastapi]~=4.14.2  # OpenTelemetry-based observability for FastAPI

# ============================================================================
# DATABASE (Enterprise-Grade)
# ============================================================================
SQLAlchemy~=2.0.36  # ORM - works with SQLite, PostgreSQL, MySQL
aiosqlite~=0.20.0  # Async SQLite driver
asyncpg~=0.30.0  # Async PostgreSQL driver
psycopg2-binary~=2.9.9  # PostgreSQL driver for Neon integration

# ============================================================================
# HTTP & API
# ============================================================================
requests>=2.32.4,<3.0.0  # SECURITY: Fix GHSA-9hjg-9r4m-mvj7
python-multipart~=0.0.18  # File upload support
aiofiles~=24.1.0  # Async file operations
httpx~=0.28.1  # Modern async HTTP client

# ============================================================================
# AUTHENTICATION & SECURITY (Enterprise)
# ============================================================================
passlib[bcrypt]>=1.7.4,<2.0.0  # SECURITY: Password hashing
paramiko>=3.5.0,<4.0.0  # SECURITY: SSH protocol
certifi>=2024.12.14,<2025.0.0  # SECURITY: SSL certificates
cryptography>=46.0.3,<47.0.0  # SECURITY: Fix CVE-2024-26130, CVE-2023-50782, CVE-2024-0727, OpenSSL vulns
PyJWT~=2.10.1  # JWT authentication per RFC 7519
bcrypt>=4.2.1,<5.0.0  # SECURITY: bcrypt password hashing
argon2-cffi>=23.1.0,<24.0.0  # SECURITY: Argon2 password hashing
defusedxml>=0.7.1,<1.0.0  # SECURITY: P0 CRITICAL - Protect against XML attacks (XXE, billion laughs)

# ============================================================================
# SECURITY MIDDLEWARE
# ============================================================================
slowapi~=0.1.9  # Rate limiting middleware
secure~=0.3.0  # Security headers middleware

# ============================================================================
# AI & ML (Latest Stable)
# ============================================================================
anthropic~=0.69.0  # Anthropic Claude API
openai~=2.7.2  # OpenAI GPT API
huggingface_hub~=0.36.0  # Hugging Face model hub client
transformers~=4.57.1  # Transformers library
tokenizers~=0.22.1  # Fast tokenization
torch~=2.7.1  # SECURITY: PyTorch 2.7.1 (April 2025) - fixes known vulnerabilities
torchvision~=0.22.1  # Compatible with torch 2.7.1 per official matrix
torchaudio~=2.7.1  # Compatible with torch 2.7.1
diffusers~=0.35.2  # Diffusion models (SDXL, ControlNet)
safetensors~=0.6.2  # Safe tensor serialization
sentence-transformers~=3.4.1  # Sentence embeddings
scikit-learn~=1.5.2  # Machine learning algorithms
numpy~=2.3.4  # Numerical computing
pandas~=2.3.3  # SECURITY: Data analysis with security fixes
xgboost~=2.1.3  # Gradient boosting
lightgbm~=4.6.0  # SECURITY: Fix PYSEC-2024-231 vulnerability

# ============================================================================
# COMPUTER VISION & IMAGE PROCESSING
# ============================================================================
opencv-python~=4.11.0.86  # Computer vision
pillow~=12.0.0  # Image processing
imagehash~=4.3.2  # Perceptual image hashing

# ============================================================================
# VIDEO PROCESSING & GENERATION
# ============================================================================
moviepy~=1.0.3  # Video editing and processing
imageio~=2.36.1  # Image I/O for video frames
imageio-ffmpeg~=0.5.1  # FFmpeg wrapper for video encoding
peft~=0.14.0  # Parameter-Efficient Fine-Tuning for LoRA

# ============================================================================
# WEB SCRAPING & PARSING
# ============================================================================
beautifulsoup4~=4.12.3  # HTML/XML parsing
lxml~=5.3.0  # SECURITY: XML/HTML parser

# ============================================================================
# WEB AUTOMATION
# ============================================================================
selenium~=4.27.1  # Browser automation
playwright~=1.49.1  # Modern web automation
webdriver-manager~=4.0.2  # WebDriver management

# ============================================================================
# PERFORMANCE & MONITORING
# ============================================================================
psutil~=6.0.0  # System utilization
prometheus-client~=0.22.0  # Metrics collection
sentry-sdk~=2.19.0  # Error tracking
elastic-apm~=6.24.0  # Application Performance Monitoring

# ============================================================================
# ADVANCED MONITORING
# ============================================================================
grafana-api~=1.0.3  # Grafana integration
structlog~=24.4.0  # Structured logging
py-cpuinfo~=9.0.0  # System information

# ============================================================================
# ADDITIONAL ENTERPRISE TOOLS
# ============================================================================
click~=8.1.8  # CLI framework
python-slugify~=8.0.4  # URL-safe slugs
redis~=5.2.1  # Redis client
celery[redis]~=5.4.0  # Distributed task queue
alembic~=1.14.0  # Database migrations

# ============================================================================
# ASYNC SUPPORT
# ============================================================================
aioredis~=2.0.1  # Async Redis client
aiomysql~=0.3.0  # SECURITY: Async MySQL - Fix GHSA-r397-ff8c-wv2g

# ============================================================================
# SOCIAL MEDIA & MARKETING APIs
# ============================================================================
facebook-sdk~=3.1.0  # Facebook Graph API
tweepy~=4.14.0  # Twitter API
google-api-python-client~=2.155.0  # Google APIs
linkedin-api~=2.3.0  # LinkedIn API

# ============================================================================
# VOICE & AUDIO PROCESSING
# ============================================================================
elevenlabs~=1.12.0  # ElevenLabs TTS API
openai-whisper==20240930  # Whisper STT (stable September 2024 release)
pydub~=0.25.1  # Audio manipulation
speechrecognition~=3.12.0  # Speech recognition

# ============================================================================
# NLP & SENTIMENT ANALYSIS
# ============================================================================
textblob~=0.18.0.post0  # Simple text processing
vaderSentiment~=3.3.2  # Sentiment analysis
spacy~=3.8.3  # Industrial-strength NLP
nltk~=3.9.1  # Natural language toolkit
langchain~=0.3.27  # LLM orchestration framework
langchain-text-splitters~=0.3.9  # SECURITY: Fix GHSA-m42m-m8cr-8m58
langsmith~=0.2.6  # LLM monitoring

# ============================================================================
# RAG (Retrieval-Augmented Generation)
# ============================================================================
chromadb~=0.5.23  # Vector database for semantic search
tiktoken~=0.8.0  # Token counting for embeddings
pypdf>=5.2.0,<6.0.0  # SECURITY: PDF processing - Fix 3 CVEs
python-docx~=1.1.2  # Word document processing
python-magic~=0.4.27  # File type detection
faiss-cpu~=1.9.0.post1  # Facebook AI Similarity Search

# ============================================================================
# BLOCKCHAIN & WEB3
# ============================================================================
web3~=7.7.0  # Ethereum Web3 library
eth-account~=0.13.4  # Ethereum account management
eth-typing~=5.0.1  # Ethereum type definitions
eth-utils~=5.1.0  # Ethereum utilities

# ============================================================================
# DATA SCIENCE & VISUALIZATION
# ============================================================================
joblib~=1.5.2  # Lightweight pipelining
scipy~=1.14.1  # Scientific algorithms
statsmodels~=0.14.4  # Statistical modeling
seaborn~=0.13.2  # Statistical visualization
matplotlib~=3.9.3  # Plotting library
plotly~=5.24.1  # Interactive plots

# ============================================================================
# MACHINE LEARNING EXTENSIONS
# ============================================================================
gym~=0.26.2  # Reinforcement learning environments
stable-baselines3~=2.4.0  # RL algorithms
optuna~=4.1.0  # Hyperparameter optimization
mlflow>=3.2.0,<4.0.0  # SECURITY: ML lifecycle - Fix GHSA-wf7f-8fxf-xfxc
shap~=0.46.0  # Model explainability (SHAP values)

# ============================================================================
# CODE ANALYSIS
# ============================================================================
astroid~=3.3.8  # Python AST library
rope~=1.13.0  # Python refactoring library
jedi~=0.19.2  # Code completion and analysis

# ============================================================================
# CMS INTEGRATION
# ============================================================================
woocommerce~=3.0.0  # WooCommerce REST API

# ============================================================================
# LOGGING & OBSERVABILITY
# ============================================================================
python-json-logger~=3.2.0  # JSON logging
loguru~=0.7.3  # Enhanced logging

# ============================================================================
# DATA VALIDATION
# ============================================================================
cerberus~=1.3.6  # Schema validation
marshmallow~=3.23.2  # Object serialization/deserialization

# ============================================================================
# CACHING
# ============================================================================
cachetools~=5.5.0  # In-memory caching
diskcache~=5.6.3  # Disk-based cache
pymemcache~=4.0.0  # Memcached client

# ============================================================================
# QUEUE & MESSAGING
# ============================================================================
kombu~=5.4.2  # Messaging library for Celery
pika~=1.3.2  # RabbitMQ client
kafka-python~=2.0.2  # Apache Kafka client

# ============================================================================
# COMPRESSION & ENCODING
# ============================================================================
python-snappy~=0.7.3  # Snappy compression
lz4~=4.3.3  # LZ4 compression
zstandard~=0.23.0  # Zstandard compression

# ============================================================================
# DATE & TIME
# ============================================================================
python-dateutil~=2.9.0.post0  # Date utilities
pytz~=2024.2  # Timezone definitions
pendulum~=3.0.0  # Python datetimes made easy

# ============================================================================
# ENVIRONMENT & CONFIG
# ============================================================================
python-decouple~=3.8  # Separate settings from code
environs~=11.2.1  # Environment variable parsing
dynaconf~=3.2.8  # Dynamic configuration management

# ============================================================================
# API DOCUMENTATION
# ============================================================================
apispec~=6.7.1  # API specification generator
pydantic-openapi-schema~=1.5.1  # Pydantic OpenAPI schema

# ============================================================================
# SECURITY COMPLIANCE
# ============================================================================
pycryptodome~=3.21.0  # Cryptographic library
pyotp~=2.9.0  # 2FA/MFA support

# ============================================================================
# ENTERPRISE MONITORING
# ============================================================================
datadog~=0.50.2  # Datadog monitoring
newrelic~=10.4.0  # New Relic APM
boto3~=1.36.7  # AWS SDK

# ============================================================================
# VERSION CONTROL
# ============================================================================
gitpython~=3.1.43  # Git integration
pygit2~=1.16.0  # Python bindings to libgit2

# ============================================================================
# DOCUMENTATION
# ============================================================================
sphinx~=8.1.3  # Documentation generator
mkdocs~=1.6.1  # Project documentation with Markdown
mkdocs-material~=9.5.47  # Material Design theme for MkDocs
