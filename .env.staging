# DevSkyy Staging Environment Configuration
# Created: 2025-12-19
# WARNING: These are staging defaults. Replace with secure values before deployment.

# ============================================================================
# ENVIRONMENT SETTINGS
# ============================================================================
ENVIRONMENT=staging
DEBUG=false
LOG_LEVEL=INFO

# ============================================================================
# WEB SERVER SETTINGS
# ============================================================================
HOST=0.0.0.0
PORT=8000
WORKERS=4
CORS_ORIGINS=https://staging.devskyy.com,http://localhost:3000

# ============================================================================
# DATABASE CONFIGURATION
# ============================================================================
DATABASE_URL=postgresql://staging_user:CHANGE_THIS_PASSWORD@postgres:5432/devskyy_staging
POSTGRES_DB=devskyy_staging
POSTGRES_USER=staging_user
POSTGRES_PASSWORD=CHANGE_THIS_PASSWORD

# Connection pooling
DB_POOL_SIZE=20
DB_MAX_OVERFLOW=10
DB_POOL_TIMEOUT=30

# ============================================================================
# REDIS CONFIGURATION
# ============================================================================
REDIS_URL=redis://redis:6379/1
REDIS_MAX_CONNECTIONS=50
REDIS_SOCKET_TIMEOUT=5
REDIS_SOCKET_CONNECT_TIMEOUT=5

# ============================================================================
# SECURITY SETTINGS
# ============================================================================
# CRITICAL: Generate new keys for production
SECRET_KEY=staging-secret-key-CHANGE-IN-PRODUCTION-use-secrets-manager
JWT_SECRET_KEY=staging-jwt-key-CHANGE-IN-PRODUCTION-use-secrets-manager
ENCRYPTION_MASTER_KEY=CHANGE_THIS_BASE64_ENCODED_KEY_32_BYTES

# Session configuration
SESSION_COOKIE_SECURE=true
SESSION_COOKIE_HTTPONLY=true
SESSION_COOKIE_SAMESITE=lax
SESSION_MAX_AGE=3600

# CSRF protection
CSRF_ENABLED=true
CSRF_TOKEN_TIMEOUT=3600

# Security features
MFA_ENABLED=true
RATE_LIMIT_ENABLED=true
REQUEST_SIGNING_ENABLED=true
IP_WHITELIST_ENABLED=false

# ============================================================================
# LLM API KEYS (Staging)
# ============================================================================
# NOTE: Use separate API keys for staging with spending limits
OPENAI_API_KEY=sk-staging-REPLACE-WITH-YOUR-KEY
ANTHROPIC_API_KEY=sk-ant-staging-REPLACE-WITH-YOUR-KEY
GOOGLE_API_KEY=staging-REPLACE-WITH-YOUR-KEY
MISTRAL_API_KEY=staging-REPLACE-WITH-YOUR-KEY
COHERE_API_KEY=staging-REPLACE-WITH-YOUR-KEY
GROQ_API_KEY=staging-REPLACE-WITH-YOUR-KEY

# LLM Configuration
LLM_TIMEOUT=30
LLM_MAX_RETRIES=3
LLM_RATE_LIMIT_PER_MINUTE=60

# ============================================================================
# VECTOR STORE CONFIGURATION
# ============================================================================
# Pinecone
PINECONE_API_KEY=staging-REPLACE-WITH-YOUR-KEY
PINECONE_ENVIRONMENT=staging
PINECONE_INDEX_NAME=devskyy-staging

# Chroma (local fallback)
CHROMA_PERSIST_DIRECTORY=/app/data/chroma
CHROMA_COLLECTION_NAME=devskyy_staging

# ============================================================================
# VISUAL GENERATION API KEYS
# ============================================================================
TRIPO3D_API_KEY=staging-REPLACE-WITH-YOUR-KEY
FASHN_API_KEY=staging-REPLACE-WITH-YOUR-KEY
GOOGLE_IMAGEN_API_KEY=staging-REPLACE-WITH-YOUR-KEY

# ============================================================================
# WORDPRESS INTEGRATION (Staging Site)
# ============================================================================
WORDPRESS_URL=https://staging.skyyrose.com
WORDPRESS_USERNAME=staging_admin
WORDPRESS_PASSWORD=CHANGE_THIS_PASSWORD
WORDPRESS_API_KEY=staging-REPLACE-WITH-YOUR-KEY

# ============================================================================
# MONITORING & ALERTING
# ============================================================================
# Prometheus
PROMETHEUS_SCRAPE_INTERVAL=15s
PROMETHEUS_EVALUATION_INTERVAL=15s
PROMETHEUS_RETENTION_DAYS=30

# Grafana
GRAFANA_ADMIN_USER=admin
GRAFANA_ADMIN_PASSWORD=CHANGE_THIS_PASSWORD
GRAFANA_ROOT_URL=https://staging.devskyy.com/grafana

# AlertManager
SLACK_WEBHOOK_URL=https://hooks.slack.com/services/YOUR/STAGING/WEBHOOK
PAGERDUTY_SERVICE_KEY=REPLACE_WITH_YOUR_KEY
EMAIL_ALERT_TO=staging-alerts@devskyy.com

# ============================================================================
# LOGGING CONFIGURATION
# ============================================================================
LOG_FORMAT=json
LOG_OUTPUT=/app/logs/devskyy.log
LOG_ROTATION=daily
LOG_RETENTION_DAYS=30

# Loki
LOKI_PUSH_URL=http://loki:3100/loki/api/v1/push
LOKI_RETENTION_PERIOD=30d

# ============================================================================
# RATE LIMITING
# ============================================================================
RATE_LIMIT_STORAGE=redis://redis:6379/2
RATE_LIMIT_DEFAULT=100/hour
RATE_LIMIT_AUTH=1000/hour
RATE_LIMIT_API=5000/day

# ============================================================================
# FILE STORAGE
# ============================================================================
UPLOAD_DIRECTORY=/app/uploads
MAX_UPLOAD_SIZE_MB=50
ALLOWED_EXTENSIONS=jpg,jpeg,png,gif,pdf,glb,gltf

# Cloud storage (optional)
# AWS_S3_BUCKET=devskyy-staging
# AWS_ACCESS_KEY_ID=REPLACE_WITH_YOUR_KEY
# AWS_SECRET_ACCESS_KEY=REPLACE_WITH_YOUR_KEY
# AWS_REGION=us-east-1

# ============================================================================
# BACKUP CONFIGURATION
# ============================================================================
BACKUP_ENABLED=true
BACKUP_SCHEDULE=0 2 * * *
BACKUP_RETENTION_DAYS=14
BACKUP_DIRECTORY=/app/data/backups

# ============================================================================
# FEATURE FLAGS
# ============================================================================
FEATURE_LLM_ROUND_TABLE=true
FEATURE_AB_TESTING=true
FEATURE_AUTO_DEPLOYMENT=false
FEATURE_3D_GENERATION=true
FEATURE_VISUAL_TRY_ON=true
FEATURE_RAG_SEARCH=true

# ============================================================================
# PERFORMANCE TUNING
# ============================================================================
ASYNC_WORKERS=4
TASK_QUEUE_MAX_SIZE=1000
CACHE_TTL_SECONDS=3600
CACHE_MAX_SIZE_MB=512

# ============================================================================
# DEVELOPMENT/TESTING
# ============================================================================
TESTING_MODE=false
MOCK_EXTERNAL_APIS=false
SEED_DATA_ON_START=false

# ============================================================================
# COMPLIANCE & PRIVACY
# ============================================================================
PII_PROTECTION_ENABLED=true
DATA_RESIDENCY=US
GDPR_COMPLIANCE=true
AUDIT_LOG_ENABLED=true

# ============================================================================
# HEALTHCHECK CONFIGURATION
# ============================================================================
HEALTHCHECK_TIMEOUT=10
HEALTHCHECK_INTERVAL=30
HEALTHCHECK_RETRIES=3

# ============================================================================
# TIMEZONE & LOCALIZATION
# ============================================================================
TZ=UTC
DEFAULT_LANGUAGE=en
SUPPORTED_LANGUAGES=en,es,fr

# ============================================================================
# DEPLOYMENT METADATA
# ============================================================================
DEPLOYMENT_VERSION=2.0.0
DEPLOYMENT_DATE=2025-12-19
GIT_COMMIT_SHA=
BUILD_NUMBER=
