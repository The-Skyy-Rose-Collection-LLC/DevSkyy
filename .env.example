# DevSkyy Environment Configuration Template
# Copy this file to .env and fill in your actual values
# Last updated: 2026-01-05

# ============================================================================
# ENVIRONMENT SETTINGS
# ============================================================================
ENVIRONMENT=development
# DEBUG=false by default for security; set to true only during active development
DEBUG=false
LOG_LEVEL=INFO

# ============================================================================
# WEB SERVER SETTINGS
# ============================================================================
HOST=0.0.0.0
PORT=8000
WORKERS=4
CORS_ORIGINS=http://localhost:3000,http://localhost:8000

# ============================================================================
# DATABASE CONFIGURATION
# ============================================================================
# Development (SQLite)
DATABASE_URL=sqlite+aiosqlite:///./devskyy.db

# Production (PostgreSQL)
# DATABASE_URL=postgresql+asyncpg://user:password@localhost:5432/devskyy
POSTGRES_DB=devskyy
POSTGRES_USER=your_user
POSTGRES_PASSWORD=your_secure_password

# Connection pooling
DB_POOL_SIZE=20
DB_MAX_OVERFLOW=10
DB_POOL_TIMEOUT=30

# ============================================================================
# REDIS CONFIGURATION
# ============================================================================
REDIS_URL=redis://localhost:6379/1
REDIS_MAX_CONNECTIONS=50
REDIS_SOCKET_TIMEOUT=5
REDIS_SOCKET_CONNECT_TIMEOUT=5

# ============================================================================
# SECURITY SETTINGS (REQUIRED for production)
# ============================================================================
# Generate with: python -c "import secrets; print(secrets.token_urlsafe(64))"
SECRET_KEY=your-secret-key-change-in-production
JWT_SECRET_KEY=your-jwt-secret-key-change-in-production

# Generate with: python -c "import secrets, base64; print(base64.b64encode(secrets.token_bytes(32)).decode())"
ENCRYPTION_MASTER_KEY=your-base64-encoded-32-byte-key

# Session configuration
SESSION_COOKIE_SECURE=true
SESSION_COOKIE_HTTPONLY=true
SESSION_COOKIE_SAMESITE=lax
SESSION_MAX_AGE=3600

# CSRF protection
CSRF_ENABLED=true
CSRF_TOKEN_TIMEOUT=3600

# Security features
MFA_ENABLED=true
RATE_LIMIT_ENABLED=true
REQUEST_SIGNING_ENABLED=true
IP_WHITELIST_ENABLED=false

# ============================================================================
# LLM API KEYS
# ============================================================================
# Get from: https://platform.openai.com/api-keys
OPENAI_API_KEY=sk-proj-...

# Get from: https://console.anthropic.com/
ANTHROPIC_API_KEY=sk-ant-...

# Get from: https://makersuite.google.com/app/apikey
GOOGLE_API_KEY=AIza...

# Get from: https://console.mistral.ai/
MISTRAL_API_KEY=...

# Get from: https://dashboard.cohere.com/api-keys
COHERE_API_KEY=...

# Get from: https://console.groq.com/keys
GROQ_API_KEY=gsk_...

# Get from: https://platform.deepseek.com/api-keys
# DeepSeek-V3: 100x cheaper than GPT-4 ($0.14/$0.28 per 1M tokens)
DEEPSEEK_API_KEY=sk-...

# LLM Configuration
LLM_TIMEOUT=30
LLM_MAX_RETRIES=3
LLM_RATE_LIMIT_PER_MINUTE=60

# ============================================================================
# LLM VERIFICATION LAYER (Cost Optimization + Quality Gates)
# ============================================================================
# Two-stage generation: DeepSeek generates → Claude/GPT-4 verifies
# Achieves 98.7% cost savings while maintaining quality
VERIFICATION_ENABLED=true
VERIFICATION_GENERATOR_PROVIDER=deepseek
VERIFICATION_VERIFIER_PROVIDER=anthropic
VERIFICATION_MAX_RETRIES=2
VERIFICATION_AUTO_ESCALATE=true

# ============================================================================
# VECTOR STORE CONFIGURATION
# ============================================================================
# Pinecone (optional, for production RAG)
PINECONE_API_KEY=your-pinecone-key
PINECONE_ENVIRONMENT=us-east-1
PINECONE_INDEX_NAME=devskyy

# Chroma (local fallback, no key needed)
CHROMA_PERSIST_DIRECTORY=./data/chroma
CHROMA_COLLECTION_NAME=devskyy

# ============================================================================
# ENTERPRISE RAG (Cohere Embeddings + Reranking)
# ============================================================================
# Cohere provides 20-40% better semantic search vs standard embeddings
# Requires COHERE_API_KEY (set above in LLM section)

# Embedding models (choose based on use case)
# - embed-english-v3.0: Best quality, 1024 dimensions (default)
# - embed-english-light-v3.0: Faster, 384 dimensions
# - embed-multilingual-v3.0: Multi-language support
COHERE_EMBED_MODEL=embed-english-v3.0
COHERE_EMBED_INPUT_TYPE=search_document
COHERE_EMBED_TRUNCATE=END

# Reranking models
# - rerank-english-v3.0: Best for English (default)
# - rerank-multilingual-v3.0: Multi-language support
COHERE_RERANK_MODEL=rerank-english-v3.0
COHERE_RERANK_TOP_N=5
COHERE_RERANK_MAX_CHUNKS_PER_DOC=10

# Embedding provider selection
# Options: sentence_transformers (local, free), openai, cohere (best quality)
EMBEDDING_PROVIDER=cohere
EMBEDDING_DIMENSION=1024
EMBEDDING_BATCH_SIZE=100

# ============================================================================
# 3D GENERATION API KEYS
# ============================================================================
# Get from: https://www.tripo3d.ai/dashboard
TRIPO_API_KEY=tsk_...
TRIPO3D_API_KEY=tsk_...

# Get from: https://app.meshy.ai/
MESHY_API_KEY=msy_...

# Get from: https://fashn.ai/dashboard
FASHN_API_KEY=fa-...

# Visual Generation
GOOGLE_IMAGEN_API_KEY=your-imagen-key

# ============================================================================
# HUGGINGFACE CONFIGURATION
# ============================================================================
# Get from: https://huggingface.co/settings/tokens
HF_TOKEN=hf_...
HUGGINGFACE_ACCESS_TOKEN=hf_...
HUGGINGFACE_API_TOKEN=hf_...

# ============================================================================
# WORDPRESS & WOOCOMMERCE
# ============================================================================
WORDPRESS_URL=https://your-site.com
WORDPRESS_USERNAME=admin
WORDPRESS_PASSWORD=your-app-password
WORDPRESS_APP_PASSWORD=your-app-password
WORDPRESS_API_KEY=your-api-key

# Get from: WooCommerce → Settings → Advanced → REST API
WOOCOMMERCE_KEY=ck_...
WOOCOMMERCE_SECRET=cs_...

# ============================================================================
# ENTERPRISE CODE INDEX (Multi-Provider Context Search)
# ============================================================================
# Context-first architecture: Agents search existing code BEFORE generating
# Configure at least one provider for enterprise context awareness

# GitHub Enterprise (recommended)
# Get from: GitHub Enterprise → Settings → Developer settings → Personal access tokens
# Required scopes: repo, read:org
GITHUB_ENTERPRISE_URL=https://github.your-company.com
GITHUB_ENTERPRISE_TOKEN=ghp_...
GITHUB_ENTERPRISE_ORG=your-org-name

# GitLab (self-hosted or cloud)
# Get from: GitLab → User Settings → Access Tokens
# Required scopes: api, read_repository
GITLAB_URL=https://gitlab.com
GITLAB_TOKEN=glpat-...
GITLAB_GROUP_ID=12345

# Sourcegraph (code intelligence platform)
# Get from: Sourcegraph → User Settings → Access tokens
SOURCEGRAPH_URL=https://sourcegraph.your-company.com
SOURCEGRAPH_TOKEN=sgp_...

# Bitbucket (Cloud or Server)
# Get from: Bitbucket → Personal settings → App passwords
# Required permissions: Repositories (Read)
BITBUCKET_URL=https://api.bitbucket.org/2.0
BITBUCKET_TOKEN=...
BITBUCKET_WORKSPACE=your-workspace

# Enterprise Index Configuration
ENTERPRISE_INDEX_ENABLED=true
ENTERPRISE_INDEX_CACHE_TTL=3600
ENTERPRISE_INDEX_MAX_RESULTS_PER_PROVIDER=5
ENTERPRISE_INDEX_TIMEOUT=10

# ============================================================================
# SEMANTIC CODE ANALYSIS
# ============================================================================
# AST-based code understanding and pattern detection
SEMANTIC_ANALYSIS_ENABLED=true
SEMANTIC_ANALYSIS_MAX_FILE_SIZE_KB=500
SEMANTIC_ANALYSIS_LANGUAGES=python,typescript,javascript
SEMANTIC_ANALYSIS_CACHE_SIZE=1000

# ============================================================================
# OTHER API KEYS
# ============================================================================
# Get from: https://context7.com/
CONTEXT7_API_KEY=ctx7sk-...

# Get from: https://render.com/
DEVSKYY_RENDER_API_KEY=rnd_...

# ============================================================================
# MONITORING & ALERTING
# ============================================================================
# Prometheus
PROMETHEUS_SCRAPE_INTERVAL=15s
PROMETHEUS_EVALUATION_INTERVAL=15s
PROMETHEUS_RETENTION_DAYS=30

# Grafana
GRAFANA_ADMIN_USER=admin
GRAFANA_ADMIN_PASSWORD=change-this-password
GRAFANA_ROOT_URL=https://your-domain.com/grafana

# AlertManager
SLACK_WEBHOOK_URL=https://hooks.slack.com/services/YOUR/WEBHOOK/URL
PAGERDUTY_SERVICE_KEY=your-pagerduty-key
EMAIL_ALERT_TO=alerts@your-domain.com

# ============================================================================
# LOGGING CONFIGURATION
# ============================================================================
LOG_FORMAT=json
LOG_OUTPUT=./logs/devskyy.log
LOG_ROTATION=daily
LOG_RETENTION_DAYS=30

# Loki
LOKI_PUSH_URL=http://localhost:3100/loki/api/v1/push
LOKI_RETENTION_PERIOD=30d

# ============================================================================
# RATE LIMITING
# ============================================================================
RATE_LIMIT_STORAGE=redis://localhost:6379/2
RATE_LIMIT_DEFAULT=100/hour
RATE_LIMIT_AUTH=1000/hour
RATE_LIMIT_API=5000/day

# ============================================================================
# FILE STORAGE
# ============================================================================
UPLOAD_DIRECTORY=./uploads
MAX_UPLOAD_SIZE_MB=50
ALLOWED_EXTENSIONS=jpg,jpeg,png,gif,pdf,glb,gltf

# ============================================================================
# BACKUP CONFIGURATION
# ============================================================================
BACKUP_ENABLED=true
BACKUP_SCHEDULE=0 2 * * *
BACKUP_RETENTION_DAYS=14
BACKUP_DIRECTORY=./data/backups

# ============================================================================
# FEATURE FLAGS
# ============================================================================
FEATURE_LLM_ROUND_TABLE=true
FEATURE_AB_TESTING=true
FEATURE_AUTO_DEPLOYMENT=false
FEATURE_3D_GENERATION=true
FEATURE_VISUAL_TRY_ON=true
FEATURE_RAG_SEARCH=true

# Enterprise Intelligence Features (NEW)
FEATURE_ENTERPRISE_INDEX=true
FEATURE_SEMANTIC_ANALYSIS=true
FEATURE_LLM_VERIFICATION=true
FEATURE_COHERE_RAG=true
FEATURE_CONTEXT_FIRST=true

# ============================================================================
# PERFORMANCE TUNING
# ============================================================================
ASYNC_WORKERS=4
TASK_QUEUE_MAX_SIZE=1000
CACHE_TTL_SECONDS=3600
CACHE_MAX_SIZE_MB=512

# ============================================================================
# DEVELOPMENT/TESTING
# ============================================================================
TESTING_MODE=false
MOCK_EXTERNAL_APIS=false
SEED_DATA_ON_START=false

# ============================================================================
# COMPLIANCE & PRIVACY
# ============================================================================
PII_PROTECTION_ENABLED=true
DATA_RESIDENCY=US
GDPR_COMPLIANCE=true
AUDIT_LOG_ENABLED=true

# ============================================================================
# HEALTHCHECK CONFIGURATION
# ============================================================================
HEALTHCHECK_TIMEOUT=10
HEALTHCHECK_INTERVAL=30
HEALTHCHECK_RETRIES=3

# ============================================================================
# TIMEZONE & LOCALIZATION
# ============================================================================
TZ=UTC
DEFAULT_LANGUAGE=en
SUPPORTED_LANGUAGES=en,es,fr

# ============================================================================
# DEPLOYMENT METADATA
# ============================================================================
DEPLOYMENT_VERSION=2.1.0-enterprise-intelligence
DEPLOYMENT_DATE=2026-01-05
GIT_COMMIT_SHA=
BUILD_NUMBER=

# ============================================================================
# ENTERPRISE INTELLIGENCE SUMMARY
# ============================================================================
# This deployment includes:
# ✅ Cohere RAG (20-40% better semantic search)
# ✅ DeepSeek + Verification (100x cost reduction)
# ✅ Multi-Provider Enterprise Index (GitHub, GitLab, Sourcegraph, Bitbucket)
# ✅ Semantic Code Analysis (AST-based pattern detection)
# ✅ Context-First Architecture (search before generate)
#
# See docs/ENTERPRISE_INTELLIGENCE_DEPLOYMENT.md for setup guide
